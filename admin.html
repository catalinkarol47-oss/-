<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å | xXKnightXx</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>üîí –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å –∫–ª–∞–Ω–∞ xXKnightXx</h1>
  </header>

  <nav>
    <a href="index.html">–ì–ª–∞–≤–Ω–∞—è</a>
    <a href="rules.html">–ü—Ä–∞–≤–∏–ª–∞</a>
    <a href="members.html">–ß–ª–µ–Ω—ã –∫–ª–∞–Ω–∞</a>
    <a href="support.html">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</a>
  </nav>

  <main>
    <section class="section animated">
      <h2>–í—Ö–æ–¥ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å</h2>
      <div id="loginScreen">
        <input type="password" id="adminPassword" placeholder="–í–≤–µ–¥–∏—Ç–µ –ø–∞—Ä–æ–ª—å">
        <button onclick="login()">–í–æ–π—Ç–∏</button>
      </div>

      <div id="adminPanel" style="display: none;">
        <h3>–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤–æ–≥–æ —á–ª–µ–Ω–∞ –∫–ª–∞–Ω–∞</h3>
        <input type="text" id="newMemberName" placeholder="–ù–∏–∫ –Ω–æ–≤–æ–≥–æ —á–ª–µ–Ω–∞">
        <select id="newMemberRole">
          <option value="–£—á–∞—Å—Ç–Ω–∏–∫">–£—á–∞—Å—Ç–Ω–∏–∫</option>
          <option value="–ê–¥–º–∏–Ω">–ê–¥–º–∏–Ω</option>
          <option value="–ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å">–ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å</option>
        </select>
        <button onclick="addMember()">–î–æ–±–∞–≤–∏—Ç—å</button>

        <h3>–°–ø–∏—Å–æ–∫ —á–ª–µ–Ω–æ–≤ –∫–ª–∞–Ω–∞</h3>
        <ul id="memberList"></ul>
      </div>
    </section>
  </main>

  <footer>
    <p><a href="index.html" style="color: var(--primary);">‚Üê –ù–∞–∑–∞–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a></p>
  </footer>

  <script>
    // –¢–≤–æ–π –ø–∞—Ä–æ–ª—å –∏–∑ –ø–∞–º—è—Ç–∏
    const correctPassword = 'Catalin22245!!!';

    function login() {
      const input = document.getElementById('adminPassword').value;
      if (input === correctPassword) {
        document.getElementById('loginScreen').style.display = 'none';
        document.getElementById('adminPanel').style.display = 'block';
        loadMembers();
      } else {
        alert('–ù–µ–≤–µ—Ä–Ω—ã–π –ø–∞—Ä–æ–ª—å!');
      }
    }

    let membersData = {};

    async function loadMembers() {
      try {
        const response = await fetch('members.json');
        membersData = await response.json();

        const list = document.getElementById('memberList');
        list.innerHTML = '';

        // –í—ã–≤–æ–¥–∏–º –ª–∏–¥–µ—Ä–∞
        const leaderLi = document.createElement('li');
        leaderLi.textContent = `${membersData.leader.role}: ${membersData.leader.name}`;
        list.appendChild(leaderLi);

        // –í—ã–≤–æ–¥–∏–º –∞–¥–º–∏–Ω–∞
        const adminLi = document.createElement('li');
        adminLi.textContent = `${membersData.admin.role}: ${membersData.admin.name}`;
        list.appendChild(adminLi);

        // –í—ã–≤–æ–¥–∏–º –æ–±—ã—á–Ω—ã—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
        membersData.members.forEach((member, i) => {
          const li = document.createElement('li');
          li.textContent = `${member.role}: ${member.name}`;
          const btn = document.createElement('button');
          btn.textContent = '–£–¥–∞–ª–∏—Ç—å';
          btn.onclick = () => removeMember(i);
          li.appendChild(btn);
          list.appendChild(li);
        });
      } catch (e) {
        console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:", e);
      }
    }

    function addMember() {
      const nameInput = document.getElementById('newMemberName');
      const roleSelect = document.getElementById('newMemberRole');
      const name = nameInput.value.trim();
      const role = roleSelect.value;

      if (!name) return;

      membersData.members.push({ name, role });
      saveMembers();
      nameInput.value = '';
      loadMembers();
    }

    function removeMember(index) {
      membersData.members.splice(index, 1);
      saveMembers();
      loadMembers();
    }

    async function saveMembers() {
      // –ó–¥–µ—Å—å –ø–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å –Ω–∞ GitHub
      alert('–°–ø–∏—Å–æ–∫ –æ–±–Ω–æ–≤–ª—ë–Ω! (—Å–∫–æ–ø–∏—Ä—É–π JSON –∏ –æ–±–Ω–æ–≤–∏ —Ñ–∞–π–ª members.json –Ω–∞ GitHub)');
      console.log(membersData);
    }
  </script>
</body>
</html>